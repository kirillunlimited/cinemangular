<div ng-if="filmCtrl.filmStatus == 'Loading'">
  <div class="loader"></div>
</div>

<div class="film" ng-if="filmCtrl.filmStatus == 'Ready'">

  <backdrop path="{{filmCtrl.filmContent.backdrop_path}}"></backdrop>

  <div class="film__content">
    <header class="film__header">
      <section class="film__headerTop">
        <div class="film__wrapper">
          <img class="film__poster" ng-src="//image.tmdb.org/t/p/w300{{filmCtrl.filmContent.poster_path}}" alt="Постер {{filmCtrl.filmContent.title}}" />

          <div class="film__main">
            <h1 class="film__title">{{filmCtrl.filmContent.title}}</h1>
            <h2 class="film__title film__title--original">{{filmCtrl.filmContent.original_title}}</h2>
            <div class="film__genres">
              <a class="film__genre button" ng-repeat="genre in filmCtrl.filmContent.genres" href="#">{{genre.name}}</a>
            </div>
            <table>
              <tr ng-if="filmCtrl.filmContent.runtime">
                <td>Runtime</td>
                <td class="film__info">
                  <span class="film__infoItem">
                    {{filmCtrl.filmContent.runtime}}
                  </span>
                </td>
              </tr>
              <tr ng-if="filmCtrl.filmContent.release_date">
                <td>Release date</td>
                <td class="film__info">
                  <span class="film__infoItem">
                    {{filmCtrl.filmContent.release_date}}
                  </span>
                </td>
              </tr>
              <tr ng-if="filmCtrl.filmContent.status">
                <td>Status</td>
                <td class="film__info">
                  <span class="film__infoItem">
                    {{filmCtrl.filmContent.status}}
                  </span>
                </td>
              </tr>
              <tr ng-if="filmCtrl.filmContent.budget">
                <td>Budget</td>
                <td class="film__info">
                  <span class="film__infoItem">
                    {{filmCtrl.filmContent.budget}}
                  </span>
                </td>
              </tr>
              <tr ng-if="filmCtrl.filmContent.revenue">
                <td>Revenue</td>
                <td class="film__info">
                  <span class="film__infoItem">
                    {{filmCtrl.filmContent.revenue}}
                  </span>
                </td>
              </tr>
              <tr ng-if="filmCtrl.creditsContent.directors.length">
                <td>Directors</td>
                <td class="film__info">
                  <span class="film__infoItem" ng-repeat="person in filmCtrl.creditsContent.directors">
                    <a ui-sref="person({personId: person.id})" class="link">{{person.name}}</a>
                  </span>
                </td>
              </tr>
              <tr ng-if="filmCtrl.creditsContent.producers.length">
                <td>Producers</td>
                <td class="film__info">
                  <span class="film__infoItem" ng-repeat="person in filmCtrl.creditsContent.producers">
                    <a ui-sref="person({personId: person.id})" class="link">{{person.name}}</a>
                  </span>
                </td>
              </tr>
              <tr ng-if="filmCtrl.creditsContent.screenplay.length">
                <td>Screenplay</td>
                <td class="film__info">
                  <span class="film__infoItem" ng-repeat="person in filmCtrl.creditsContent.screenplay">
                    <a ui-sref="person({personId: person.id})" class="link">{{person.name}}</a>
                  </span>
                </td>
              </tr>
              <tr ng-if="filmCtrl.creditsContent.story.length">
                <td>Story</td>
                <td class="film__info">
                  <span class="film__infoItem" ng-repeat="person in filmCtrl.creditsContent.story">
                    <a ui-sref="person({personId: person.id})" class="link">{{person.name}}</a>
                  </span>
                </td>
              </tr>
            </table>
          </div>
          <div class="film__rating">
            <span class="film__voteContent">{{filmCtrl.filmContent.vote_average}}</span>
            <span class="film__voteCount">{{filmCtrl.filmContent.vote_count}}</span>
          </div>
        </div>
      </section>
    </header>

    <section class="film__headerBottom">
      <div class="film__wrapper">
        <p class="film__description">
          {{filmCtrl.filmContent.overview}}
        </p>
      </div>
    </section>

    <section class="cast">
      <div class="cast__wrapper">
        <h3 class="cast__title">Cast</h3>
        <div class="cast__grid">
          <a ui-sref="person({personId: person.id})" class="cast__element" ng-repeat="person in filmCtrl.creditsContent.cast | limitTo:5">
            <img class="cast__portrait" ng-src="//image.tmdb.org/t/p/w180_and_h180_bestv2{{person.profile_path}}" alt="">
            <span class="cast__content">
              <span class="cast__name">{{person.name}}</span><br/>
              <span class="cast__character">as<br/>{{person.character}}</span>
            </span>
          </a>
          <a ng-if="filmCtrl.creditsContent.cast.length > 5" ui-sref="credits({filmId: filmCtrl.filmContent.id})" class="cast__element cast__element--more" >
            <span class="cast__content">
              <span class="cast__more">All cast & crew</span>
            </span>
          </a>
        </div>
      </div>
    </section>

  </div>

</div>